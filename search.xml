<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[搭建hadoop伪分布式平台]]></title>
    <url>%2Fposts%2Fb9efe76c%2F</url>
    <content type="text"><![CDATA[###本机环境Ubuntu 16.04hadoop版本 2.7.3 新建hadoop用户 (其实也可以不用)参考教程：https://www.shiyanlou.com/courses/35/labs/135/documentxiehongxinhadoop Ubuntu 安装配置SSH(ssh: connect to host localhost port 22: Connection refused问题的解决)http://www.linuxidc.com/Linux/2015-01/112045.htm 配置ssh免登录… hadoop安装 解压到 /usr/local 目录： sudo tar -xzvf …./hadoop-2.7.3.tar.gz -C /usr/local将解压后的文件夹重命名为hadoop: sudo mv hadoop-2.7.3 hadoop&ensp;（如果新建hadoop用户，要将hadoop文件夹的所有者改为hadoop ：sudo chown -R hadoop ./hadoop 【第一个hadoop代表hadoop用户，第二个./hadoop 代表hadoop这个文件夹】） ###配置环境变量编辑配置文件 sudo vim /etc/profile 或者 sudo nano /etc/profile 添加如下内容#hadoop (//应改为#)export HADOOP_HOME=/usr/local/hadoopexport PATH=$PATH:$HADOOP_HOME/binexport PATH=$PATH:$HADOOP_HOME/sbinexport HADOOP_MAPRED_HOME=$HADOOP_HOMEexport HADOOP_COMMON_HOME=$HADOOP_HOMEexport HADOOP_HDFS_HOME=$HADOOP_HOME #hadoop data direcotoryexport YARN_HOME=$HADOOP_HOMEexport HADOOP_COMMON_LIB_NATIVE_DIR=$HADOOP_HOME/lib/native 使配置文件生效source /etc/profile 修改hadoop配置文件进入相应的路径 cd /usr/local/hadoop/etc/hadoop 对要修改的文件进行备份sudo cp core-site.xml core-site.xml.baksudo cp hdfs-site.xml hdfs-site.xml.baksudo cp yarn-site.xml yarn-site.xml.baksudo cp hadoop-env.sh hadoop-env.sh.bak对：sudo cp mapred-site.xml.template mapred-site.xml.template.bak 错：sudo cp mapred-site.xml.template mapred-site.xml(就是这里埋下了祸根) 配置文件说明hadoop-env.sh: 记录脚本中要用到的环境变量，以运行hadoopcore-site.xml: HDFS和mapreduce的IO设置hdfs-site.xml: hadoop守护进程配置，namenode，辅助namemode和datanodemapred-site.xml: mapreduce守护进程配置yarn-site.xml :Yarn资源管理器配置 修改hadoop-env.shexport JAVA_HOME=你的java路径 修改core-site.xml 在增加hdfs的端口信息,增加的内容如下： &lt;property&gt; &lt;name&gt;fs.defaultFS&lt;/name&gt; &lt;value&gt;hdfs://localhost:9000&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;!-- 设置每个节点临时文件目录 --&gt; &lt;name&gt;hadoop.tmp.dir&lt;/name&gt; &lt;!-- 当前用户须要对此目录有读写权限，启动集群时自动创建 --&gt; &lt;value&gt;file:/usr/local/hadoop/tmp&lt;/value&gt; &lt;!-- 防止运行mapreduce任务时配置被修改 --&gt; &lt;final&gt;true&lt;/final&gt; &lt;/property&gt; 修改hdfs-site.xml在增加以下内容： &lt;property&gt; &lt;!-- 设置数据的备份数为1--&gt; &lt;name&gt;dfs.replication&lt;/name&gt; &lt;value&gt;1&lt;/value&gt; &lt;/property&gt; &lt;!-- 这两个文件夹不用自己创建--&gt; &lt;property&gt; &lt;name&gt;dfs.namenode.name.dir&lt;/name&gt; &lt;value&gt;file:/usr/local/hadoop/tmp/dfs/name&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;dfs.datanode.data.dir&lt;/name&gt; &lt;value&gt;file:/usr/local/hadoop/tmp/dfs/data&lt;/value&gt; &lt;/property&gt; 配置完成后，执行 NameNode 的格式化:./bin/hdfs namenode -format 开启 NameNode 和 DataNode 守护进程./sbin/start-dfs.sh （成功启动后，可以访问 Web 界面 http://localhost:50070 查看 NameNode 和 Datanode 信息） 运行Hadoop伪分布式实例from：http://www.powerxing.com/install-hadoop/./bin/hdfs dfs -mkdir -p /user/hadoop./bin/hdfs dfs -mkdir input./bin/hdfs dfs -put ./etc/hadoop/.xml input./bin/hadoop jar ./share/hadoop/mapreduce/hadoop-mapreduce-examples-.jar grep input output ‘dfs[a-z.]+’./bin/hdfs dfs -cat output/* 后面步骤按照上面的教程 ###测试 1.查看守护进程是否全部启动 jpshadoop全部守护进程启动应该有5个，如下： 2.打开浏览器输入http://127.0.0.1:8088 和 http://127.0.0.1:50070 能显示hadoop界面 ###后话：搭建时遇到的错误：1.格式化namenode时无法在home创建tmp文件夹：解决办法如下：创建tmp目录： 授权： sudo chmod -R a+w /home/tmp 2.格式化namenode时进入bin目录 格式化NameNode和启动守护进程 转载http://www.jianshu.com/p/ca10f2d5b879http://www.powerxing.com/install-hadoop/]]></content>
      <categories>
        <category>大数据</category>
      </categories>
      <tags>
        <tag>Hadoop</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[在服务器后台运行Python程序]]></title>
    <url>%2Fposts%2Fd2553b91%2F</url>
    <content type="text"><![CDATA[方式一：nohup 命令 该命令会在后台执行 main.py 这个程序，并将输出结果保存到 nohup.out 文件 nohup python main.py &amp; 将输出结果更改到 filename.out 文件。 nohup python main.py &gt;filename.out 2&gt;&amp;1 &amp; 查看后台运行的任务 jobs nohup命令解释https://www.cnblogs.com/zq-inlook/p/3577003.html 方式二：https://www.ibm.com/developerworks/cn/linux/l-cn-nohup/]]></content>
      <categories>
        <category>Liunx</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Ubuntu16.04安装virtualbox]]></title>
    <url>%2Fposts%2F704f0bbb%2F</url>
    <content type="text"><![CDATA[1.virtualbox版本：virtualbox-5.1_5.1.4-110228-Ubuntu-xenial_amd64.deb 2.virtualbox安装文档地址：https://www.virtualbox.org/manual/UserManual.html 3.安装 4.报错：vboxdrv 构建失败vboxdrv介绍：为了在主操作系统旁边的虚拟机中运行其他操作系统，VirtualBox需要非常紧密地集成到系统中。要做到这一点，它会安装一个名为“驱动程序”的模块vboxdrv，该模块在系统内核中进行大量工作，这是控制处理器和物理硬件的操作系统的一部分。没有这个内核模块，你仍然可以使用VirtualBox管理器来配置虚拟机，但是它们不会启动。它还安装了调用的网络驱动程序 vboxnetflt， vboxnetadp哪些虚拟机可以更好地利用计算机的网络功能，而且超出基本“NAT”模式的虚拟机网络需要。 在执行 sudo dpkg -i virtualbox-5.1_5.1.4-110228-Ubuntu-xenial_amd64.deb这条命令时，安装程序将尝试构建适合当前运行的内核的内核模块。如果构建过程不成功，您将看到一个警告，该包将被取消配置 解决步骤：（不要盲目执行本教程代码，建议阅读全文后再考虑如何执行）1.查看有没有安装正确的头文件查看内核版本： 对于Debian和基于Ubuntu的发行版，您必须安装 linux-headers，通常取的linux-headers-generic ，linux-headers-amd64 ，linux-headers-i686 或linux-headers-i686-pae 这些头文件的正确版，版本名最好与内核版本名称相匹配; 头文件一般放在/usr/src 目录下如图，该头文件已正确安装（我是自动安装的），如果相应的头文件没安装，可参考下面的教程：https://linux.cn/article-4625-1.html#3_1245 2.查看/var/log/vbox-install.log为什么编译失败 通过Google和百度，网上大部分资料都指向“内核没编译”，但是因为对内核不熟，所以没敢尝试，也建议不要随便编译内核，以下是我查找的资料报错解决办法：http://hanjiangduqiao.blog.163.com/blog/static/613105442012320558430/http://blog.csdn.net/chenbang110/article/details/7795011 （就是这个教程说内核没编译）http://www.linuxdiyf.com/viewarticle.php?id=314763 (这个教程说要进入 /usr/src/kernels/linux-3.6.2 目录，但是我发现我电脑并没有kernels这个目录，所以没尝试) 内核编译：https://kernelnewbies.org/FAQ/KernelCompilationhttp://www.linuxprobe.com/linux-kernel-compilation.htmlhttp://www.cnblogs.com/super119/archive/2011/01/03/1924408.html看起来比较有用的http://forum.ubuntu.org.cn/viewtopic.php?t=42690 3.安装Qt 5.3.2以上（推荐Qt 5.6.2以上）和 SDL 1.2.7或更高版本（此图形库通常称为 libsdl或类似）突然在官网教程发现要安装这两个包，但是我并没有，这个对系统影响较小，所以先试试这个。 查看qt版本：qmake -v但有时候安装完成执行此命令还是报错解决办法：http://blog.csdn.net/zhuquan945/article/details/52818786 qt5.7安装教程https://qtguide.ustclug.org/ch01-04.htmhttp://blog.csdn.net/u012235003/article/details/71195046 （我用这个安装） 下载包：wget http://download.qt.io/official_releases/qt/5.7/5.7.0/qt-opensource-linux-x64-5.7.0.run下载后给执行权限: chmod +x qtxxxx.run安装 : ./qtxxxx.run安装g++: sudo apt-get install build-essential安装依赖库: sudo apt-get install libfontconfig1安装OpenGL: sudo apt-get install mesa-common-dev以及依赖: sudo apt-get install libglu1-mesa-dev -y配置: 打开qt creator 工具-&gt;选项-&gt;构建&amp;运行-&gt;编译，选择编译器 SDL安装SDL1.0安装：http://www.linuxidc.com/Linux/2010-07/26965.htmSDL2.0安装：http://wiki.libsdl.org/Installation 痛心：安装qt5和SDL后还是报错 4.重新Google报错原因http://blog.csdn.net/jingtiangao/article/details/51811638https://askubuntu.com/questions/762254/why-do-i-get-required-key-not-available-when-install-3rd-party-kernel-modules （这一篇的第二个答案（点赞量14）之前试过，曾经能启动，但后来又不行了） 根本原因：从内核版本4.4.0-20开始，如果启用了UEFI Secure Boot，强制执行未启用安全启动的未签名内核模块将不允许运行解决办法：在BIOS里面关闭安全启动在执行 sudo rcvboxdrv setup 重新编译]]></content>
      <categories>
        <category>Liunx</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Hexo+Github+Next-搭建个人博客(二)]]></title>
    <url>%2Fposts%2F7879e99d%2F</url>
    <content type="text"><![CDATA[本文是上一篇文章 “ Hexo+Github+Next 搭建个人博客(一)”的延续，主要讲述自己在配置 Next 主题时遇到的一些问题，是已经假设你已经搭好环境的情况下，如果对环境搭建还有不懂的地方，请看上一篇文章哦。 文档http://theme-next.iissnan.com/getting-started.htmlhttps://hexo.io/zh-cn/docs/index.html 遇到的问题1.添加栏目如下图， 在添加栏目时需定义路径和图标，图标既可在 menu 这里定义 (符号|| 后面就是图标的名称 )也可以在 menu_icons 定义。该图标是到 http://fontawesome.io/icons/ 这个网站找的。 2.添加社交链接一般情况下在 Next 的配置文件是不会定义中文字体的，中文字体都是定义在 /languages/zh-Hans.yml 文件下，但是我在 /languages/zh-Hans.yml 定义后，还是不会显示“简书”，“知乎”的中文，最后是直接在 配置文件 定义才行，如下图。 一般情况下，配置到这里，整个博客的样子也应该出来了，但问题总是有的… 3.点击 ”关于“ 显示 ”Cannot GET /about/“这是因为你没有新建页面（page）的缘故，需键入下面命令，键入后在source文件夹下会对应生成 “about” 文件夹 和 index.md 文件，index.md 便是你显示的页面了。之后你便可以肆无忌惮的写文章了。 hexo new page about 4.显示分类的效果，如下图 该效果需要以下三个步骤： # 1.新建页面hexo new page categories&ensp; # 2.添加 type 和 comments-–title: 分类date: 2018-01-13 11:12:25type: “categories”comments: false-–&ensp;3.在文章添加分类 5.文章链接唯一化等进阶教程hexo 摸爬滚打之进阶教程Hexo+NexT主题配置备忘 6.部署 Hexo 时设置免密码，节省时间设置 SSH 使用 hexo deploy 时免输用户名密码 7.安装 HexoEditor官方地址：https://github.com/zhuzhuyule/HexoEditor/blob/master/doc/en/Building.md淘宝镜像： https://npm.taobao.org/ # If In China China China, you can set mirror to speed up !npm config set registry “https://registry.npm.taobao.org“npm config set electron_mirror “https://npm.taobao.org/mirrors/electron/“ # 克隆项目git clone https://github.com/zhuzhuyule/HexoEditor.git # 使用淘宝定制cnpm， 用npm下载总会出错sudo npm install -g cnpm –registry=https://registry.npm.taobao.org cd HexoEditorsudo cnpm installsudo cnpm start]]></content>
      <categories>
        <category>随笔</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Next</tag>
        <tag>博客</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexo+Github+Next-搭建个人博客(一)]]></title>
    <url>%2Fposts%2Fe170b827%2F</url>
    <content type="text"><![CDATA[环境Centos7 参考教程 Github 搭建 Hexo 静态博客 上面的教程采用的是 Hexo + Github + Yilia 主题，但本人在采用 Yilia 主题出现了一点问题，所以最后采用的是 Next 主题。以下是自己遇到的一些问题及解决办法 Hexo 框架1.在/etc/profle 配置了node.js 的路径，用“sudo npm install …” 提示 “sudo npm 找不到命令“ 原因：当 sudo以管理权限执行命令的时候，Linux将PATH环境变量进行了重置，当然这主要是因为系统安全的考虑,所以会找不到该路径。 解决办法（路径要更改为自己的）： sudo ln -s /usr/local/node-v8.9.3/bin/node /usr/bin/nodesudo ln -s /usr/local/node-v8.9.3/lib/node_modules /usr/lib/nodesudo ln -s /usr/local/node-v8.9.3/bin/npm /usr/bin/npm 参考： https://www.cnblogs.com/ishell/p/4333763.html 2.让 hexo server 后台运行http://www.tuijiankan.com/2015/05/08/hexo-forever-run/ yilia主题1 采用 yilia 主题的博客http://litten.me/http://zbk1nger.github.io/ 2 采用 yilia 主题时图片的路径问题 如图，我在 yilia 的配置文件分别配置了三张图片：支付宝、微信的收款码和个人头像。上图的 /img 文件夹 注意是要放在 根目录下的 source 文件夹下，再通过以下这三条命令生成便可预览。 hexo clean # 清除缓存hexo g # 生成静态文件hexo s # 启动服务器预览 3 yilia 主题发布的文章 在主页显示时 文章的内容 会全部显示，个人觉得那样很长很难看，所以想要部分展示的效果，类似于这样 解决办法：在文章需要截断的位置加上 more 标签，如下图 但是添加标签后出现了上图的效果，与“展开全文”重复，而且也不好看，本人没学过前端，故最后切换成 Next 主题。 Next主题Next 主题的配置见本人的下一篇博客 “Hexo+Github+Next 搭建个人博客(二)”。 其它链接搭建个人博客，你需要知道这些https://zhuanlan.zhihu.com/p/25744686 好看的 Hexo 主题https://www.zhihu.com/question/24422335]]></content>
      <categories>
        <category>随笔</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Next</tag>
        <tag>博客</tag>
      </tags>
  </entry>
</search>
